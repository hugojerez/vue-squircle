{"remainingRequest":"/usr/local/lib/node_modules/@vue/cli-service-global/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/janos/Sites/vue-squircle/src/v-squircle.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/janos/Sites/vue-squircle/src/v-squircle.vue","mtime":1601830518319},{"path":"/usr/local/lib/node_modules/@vue/cli-service-global/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/usr/local/lib/node_modules/@vue/cli-service-global/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/usr/local/lib/node_modules/@vue/cli-service-global/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAidi1zcXVpcmNsZSIsCiAgcHJvcHM6IHsKICAgIHJhZGl1czogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICcyNXB4JwogICAgfSwKICAgIHNtb290aGluZzogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgIGRlZmF1bHQ6IDQKICAgIH0sCiAgICBwYWRkaW5nOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJzI1cHgnCiAgICB9LAogICAgYmFja2dyb3VuZDogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICdoc2xhKDAsMCUsMCUsMC41KScKICAgIH0KICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBwb2x5Z29uOiBbXSwKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIHNxdWlyY2xlKHIpIHsKICAgICAgcmV0dXJuIGZ1bmN0aW9uICh0aGV0YSkgewogICAgICAgIGxldCB4ID0gTWF0aC5wb3coTWF0aC5hYnMoTWF0aC5jb3ModGhldGEpKSwgMiAvIHIpICogNTAgKiBNYXRoLnNpZ24oTWF0aC5jb3ModGhldGEpKSArIDUwOwogICAgICAgIGxldCB5ID0gTWF0aC5wb3coTWF0aC5hYnMoTWF0aC5zaW4odGhldGEpKSwgMiAvIHIpICogNTAgKiBNYXRoLnNpZ24oTWF0aC5zaW4odGhldGEpKSArIDUwOwogICAgICAgIHJldHVybiB7eCx5fTsKICAgICAgfQogICAgfSwKICAgIHRvX3JhZGlhbnMoZGVnKSB7CiAgICAgIHJldHVybiBkZWcgKiBNYXRoLlBJIC8gMTgwOwogICAgfQogIH0sCiAgbW91bnRlZCgpIHsKICAgIHRoaXMucG9seWdvbiA9IChuZXcgQXJyYXkoOTEpKQogICAgIC5maWxsKDApCiAgICAgLm1hcCgoeCwgaSkgPT4gaSkKICAgICAubWFwKHRoaXMudG9fcmFkaWFucykgLy8gRGVmaW5lZCBhcyBkZWcgPT4gZGVnICogTWF0aC5QSSAvIDE4MCBlbHNld2hlcmUKICAgICAubWFwKHRoaXMuc3F1aXJjbGUodGhpcy5zbW9vdGhpbmcpKSAvLyBXZSdsbCB1c2UgYSBib3JkZXItcmFkaXVzIG9mIDQKICAgICAubWFwKCh7IHgsIHkgfSkgPT4gKHsgeDogTWF0aC5yb3VuZCh4ICogMTApLzEwLCB5OiBNYXRoLnJvdW5kKHkgKiAxMCkvMTAgfSkpIC8vIFJvdW5kIHRvIHRoZSBvbmVzIHBsYWNlCiAgICAgLm1hcCgoeyB4LCB5IH0pID0+IGAkeyh4LTUwKSoyfSUgJHsoeS01MCkqMn0lYCk7CiAgICB0aGlzLnBvbHlnb24ucHVzaCgnMCUgMCUnKQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIHN0eWxlICgpIHsKICAgICAgcmV0dXJuewogICAgICAgICctLXYtc3F1aXJjbGUtcmFkaXVzJzogdGhpcy5yYWRpdXMsCiAgICAgICAgJy0tdi1zcXVpcmNsZS1zbW9vdGhpbmcnOiB0aGlzLnNtb290aGluZywKICAgICAgICAnLS12LXNxdWlyY2xlLXBhZGRpbmcnOiB0aGlzLnBhZGRpbmcsCiAgICAgICAgJy0tdi1zcXVpcmNsZS1wb2x5Z29uJzogJ3BvbHlnb24oJyArIHRoaXMucG9seWdvbiArICcpJywKICAgICAgICAnLS12LXNxdWlyY2xlLWJhY2tncm91bmQnOiB0aGlzLmJhY2tncm91bmQKICAgICAgfQogICAgfQogIH0KfTsKLy8gIGZyb20gaHR0cHM6Ly9tZWRpdW0uY29tL0B6dWJyeWpzL3NxdWlyY2xlcy1icmluZ2luZy1pb3MtN3Mtc29sdXRpb24tdG8tcm91bmRlZC1yZWN0YW5nbGVzLXRvLWNzcy05ZmMzNTc3OWFhNjUK"},{"version":3,"sources":["v-squircle.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAoBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"v-squircle.vue","sourceRoot":"src","sourcesContent":["<template lang=\"html\">\n  <div class=\"v-squircle\" :style=\"style\">\n    <div class=\"v-squircle--background\">\n      <div class=\"v-squircle--segment v-squircle--segment--top-left\"></div>\n      <div class=\"v-squircle--filler\"></div>\n      <div class=\"v-squircle--segment v-squircle--segment--top-right\"></div>\n      <div class=\"v-squircle--filler\"></div>\n      <div class=\"v-squircle--filler\"></div>\n      <div class=\"v-squircle--filler\"></div>\n      <div class=\"v-squircle--segment v-squircle--segment--bottom-left\"></div>\n      <div class=\"v-squircle--filler\"></div>\n      <div class=\"v-squircle--segment v-squircle--segment--bottom-right\"></div>\n    </div>\n    <div class=\"v-squircle--slot\">\n      <slot></slot>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"v-squircle\",\n  props: {\n    radius: {\n      type: String,\n      default: '25px'\n    },\n    smoothing: {\n      type: Number,\n      default: 4\n    },\n    padding: {\n      type: String,\n      default: '25px'\n    },\n    background: {\n      type: String,\n      default: 'hsla(0,0%,0%,0.5)'\n    }\n  },\n  data() {\n    return {\n      polygon: [],\n    }\n  },\n  methods: {\n    squircle(r) {\n      return function (theta) {\n        let x = Math.pow(Math.abs(Math.cos(theta)), 2 / r) * 50 * Math.sign(Math.cos(theta)) + 50;\n        let y = Math.pow(Math.abs(Math.sin(theta)), 2 / r) * 50 * Math.sign(Math.sin(theta)) + 50;\n        return {x,y};\n      }\n    },\n    to_radians(deg) {\n      return deg * Math.PI / 180;\n    }\n  },\n  mounted() {\n    this.polygon = (new Array(91))\n     .fill(0)\n     .map((x, i) => i)\n     .map(this.to_radians) // Defined as deg => deg * Math.PI / 180 elsewhere\n     .map(this.squircle(this.smoothing)) // We'll use a border-radius of 4\n     .map(({ x, y }) => ({ x: Math.round(x * 10)/10, y: Math.round(y * 10)/10 })) // Round to the ones place\n     .map(({ x, y }) => `${(x-50)*2}% ${(y-50)*2}%`);\n    this.polygon.push('0% 0%')\n  },\n  computed: {\n    style () {\n      return{\n        '--v-squircle-radius': this.radius,\n        '--v-squircle-smoothing': this.smoothing,\n        '--v-squircle-padding': this.padding,\n        '--v-squircle-polygon': 'polygon(' + this.polygon + ')',\n        '--v-squircle-background': this.background\n      }\n    }\n  }\n};\n//  from https://medium.com/@zubryjs/squircles-bringing-ios-7s-solution-to-rounded-rectangles-to-css-9fc35779aa65\n</script>\n\n<style lang=\"css\" scoped>\n.v-squircle {\n  display: grid;\n}\n.v-squircle--background {\n  display: grid;\n  grid-template: var(--v-squircle-radius) auto var(--v-squircle-radius) / var(--v-squircle-radius) auto var(--v-squircle-radius);\n}\n.v-squircle--segment {\n  width: var(--v-squircle-radius);\n  height: var(--v-squircle-radius);\n  clip-path: var(--v-squircle-polygon);\n}\n.v-squircle--filler, .v-squircle--segment {\n  background-color: var(--v-squircle-background);\n}\n.v-squircle--segment--bottom-left {\n  transform: rotate(90deg);\n}\n.v-squircle--segment--top-left {\n  transform: rotate(180deg);\n}\n.v-squircle--segment--top-right {\n  transform: rotate(270deg);\n}\n.v-squircle--slot, .v-squircle--background {\n  grid-area: 1 / 1 / 1 / 1;\n}\n.v-squircle--slot {\n  padding: var(--v-squircle-padding);\n}\n</style>\n"]}]}